<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Module: through</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Module: through</h1>

    



<section>

<header>
    <h2>
    through
    </h2>
    
</header>

<article>
    <div class="container-overview">
    

    
        
            <div class="description"><p><a href="https://npmjs.org/package/super-stream.through"><img src="https://badge.fury.io/js/super-stream.through.png" alt="NPM version"></a> <a href="https://travis-ci.org/markuz-gj/super-stream.through"><img src="https://travis-ci.org/markuz-gj/super-stream.through.png?branch=master" alt="Build Status"></a> <a href="https://david-dm.org/markuz-gj/super-stream.through"><img src="https://david-dm.org/markuz-gj/super-stream.through.png" alt="Dependency Status"></a> <a href="https://david-dm.org/markuz-gj/super-stream.through#info=devDependencies"><img src="https://david-dm.org/markuz-gj/super-stream.through/dev-status.png" alt="devDependency Status"></a> <a href="https://coveralls.io/r/markuz-gj/super-stream.through?branch=master"><img src="https://coveralls.io/repos/markuz-gj/super-stream.through/badge.png?branch=master" alt="Coverage Status"></a> <a href="#license"><img src="http://img.shields.io/badge/license-MIT-blue.svg" alt="MIT Licensed"></a></p>
<h3>A basic wrapper function around <a href="https://github.com/rvagg/through2"><code>through2@0.4.x</code></a></h3><p>This is the base function used by <a href="https://github.com/markuz-gj/super-stream"><code>super-stream</code></a> as a standalone module. Also it is a drop in replacement for <code>through2</code></p>
<p>Why shouldn't you use <code>through2</code> instead of this module?<br>You wouldn't if all you need is a basic helper for creating <a href="http://nodejs.org/api/stream.html#stream_class_stream_transform"><code>stream.Transform</code></a>.</p>
<p>But if you need some functional style transforms and other stream utilities and reduce your dependencies at the same time, <strong><em>this</em></strong> is your basic through stream you are looking for. For all the API, go <a href="http://markuz-gj.github.io/super-stream.through/">here</a>  </p>
<p>See also.<br><a href="https://github.com/markuz-gj/super-stream"><code>super-stream</code></a><br><a href="https://github.com/markuz-gj/super-stream.each"><code>super-stream.each</code></a><br><a href="https://github.com/markuz-gj/super-stream.map"><code>super-stream.map</code></a><br><a href="https://github.com/markuz-gj/super-stream.reduce"><code>super-stream.reduce</code></a><br><a href="https://github.com/markuz-gj/super-stream.filter"><code>super-stream.filter</code></a><br><a href="https://github.com/markuz-gj/super-stream.junction"><code>super-stream.junction</code></a><br><a href="https://github.com/markuz-gj/super-stream.pipeline"><code>super-stream.pipeline</code></a>  </p>
<hr></div>
        

        
<dl class="details">
    

    

    

    

    

    
    <dt class="tag-author">Author:</dt>
    <dd class="tag-author">
        <ul>
            <li>Markuz GJ</li>
        </ul>
    </dd>
    

    

    
    <dt class="tag-license">License:</dt>
    <dd class="tag-license"><ul class="dummy"><li>MIT</li></ul></dd>
    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="index.js.html">index.js</a>, <a href="index.js.html#line2">line 2</a>
    </li></ul></dd>
    

    

    

    
</dl>


        
    
    </div>

    

    

    

    

    

    

    
        <h3 class="subsection-title">Methods</h3>

        <dl>
            
<dt>
    <h4 class="name" id="buf"><span class="type-signature">&lt;static> </span>buf<span class="signature">(<span class="optional">transform</span>, <span class="optional">flush</span>)</span><span class="type-signature"> &rarr; {Transform}</span></h4>

    
</dt>
<dd>

    
    <div class="description">
        <p>It is a conveniece method for <code>through({objectMode: false}, transformFn, flushFn);</code><br>If called without arguments, returns a passthrough <code>Transform</code></p>
    </div>
    

    

    

    
        <h5>Parameters:</h5>
        

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Argument</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>transform</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last"><p><code>_transform</code> function as described <a href="http://nodejs.org/docs/latest/api/stream.html#stream_class_stream_transform">here</a></p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>flush</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last"><p><code>_flush</code> function as described <a href="http://nodejs.org/docs/latest/api/stream.html#stream_class_stream_transform">here</a> (same link as above)</p></td>
        </tr>

    
    </tbody>
</table>
    

    
<dl class="details">
    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="index.js.html">index.js</a>, <a href="index.js.html#line222">line 222</a>
    </li></ul></dd>
    

    

    

    
</dl>


    

    

    

    

    

    
    <h5>Returns:</h5>
    
            
<div class="param-desc">
    <p>A instance of <code>Transform</code> stream from <code>readable-stream@1.0.x</code></p>
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Transform</span>


    </dd>
</dl>

        

    
        <h5>Example</h5>
        
    <pre class="prettyprint"><code>// see the factory method.
var thr = through.factory({objectMode: true});
var myData = new Buffer('my data');
var streamBuf = thr.buf(function(chunk, enc, done){
  expect(chunk).to.be.equal(myData);
  expect(chunk).to.not.be.equal('my data');
  done();
});
streamBuf.write(myData);</code></pre>

    
</dd>

        
            
<dt>
    <h4 class="name" id="ctor"><span class="type-signature">&lt;static> </span>ctor<span class="signature">(<span class="optional">options</span>, <span class="optional">transform</span>, <span class="optional">flush</span>)</span><span class="type-signature"> &rarr; {Transform}</span></h4>

    
</dt>
<dd>

    
    <div class="description">
        <p>Note: This is the same <code>ctor</code> method from <code>through2</code><br>If called without arguments, returns a passthrough <code>Transform</code></p>
    </div>
    

    

    

    
        <h5>Parameters:</h5>
        

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Argument</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>options</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last"><p>Same options as seen <a href="/jsdoc/module-through.html#factory">here</a></p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>transform</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last"><p><code>_transform</code> function as described <a href="http://nodejs.org/docs/latest/api/stream.html#stream_class_stream_transform">here</a></p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>flush</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last"><p><code>_flush</code> function as described <a href="http://nodejs.org/docs/latest/api/stream.html#stream_class_stream_transform">here</a> (same link as above)</p></td>
        </tr>

    
    </tbody>
</table>
    

    
<dl class="details">
    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="index.js.html">index.js</a>, <a href="index.js.html#line153">line 153</a>
    </li></ul></dd>
    

    

    

    
</dl>


    

    

    

    

    

    
    <h5>Returns:</h5>
    
            
<div class="param-desc">
    <p>A pre-configured <code>Transform</code> contructor from <code>readable-stream@1.0.x</code></p>
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Transform</span>


    </dd>
</dl>

        

    
        <h5>Example</h5>
        
    <pre class="prettyprint"><code>var Transform = require('readable-stream').Transform;
var Ctor = through.ctor({objectMode: true}, transformFn, flushFn);
var streamA = new Ctor();

// no need for the new operator
var streamB = Ctor(); 

//overriding options
var streamC = Ctor({objectMode: false}); 

expect(streamA).to.be.an.instanceof(Transform);
expect(streamB).to.be.an.instanceof(Transform);
expect(streamC).to.be.an.instanceof(Transform);</code></pre>

    
</dd>

        
            
<dt>
    <h4 class="name" id="factory"><span class="type-signature">&lt;static> </span>factory<span class="signature">(<span class="optional">options</span>)</span><span class="type-signature"> &rarr; {through}</span></h4>

    
</dt>
<dd>

    
    <div class="description">
        <p>A factory method for creating a custom <code>through</code> instance.</p>
    </div>
    

    

    

    
        <h5>Parameters:</h5>
        

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Argument</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>options</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last"><p>Object passed to <code>stream.Transfrom</code> constructor as described <a href="http://nodejs.org/docs/latest/api/stream.html#stream_new_stream_readable_options">here</a> and <a href="http://nodejs.org/docs/latest/api/stream.html#stream_new_stream_duplex_options">here</a></p>
                <h6>Properties</h6>
                

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Argument</th>
        

        
        <th>Default</th>
        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>highWaterMark</code></td>
            

            <td class="type">
            
                
<span class="param-type">Number</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                    16kb
                
                </td>
            

            <td class="description last"><p>The maximum number of bytes to store in the internal buffer before ceasing to read from the underlying resource.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>encoding</code></td>
            

            <td class="type">
            
                
<span class="param-type">String</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                
                    &lt;nullable><br>
                

                
                </td>
            

            
                <td class="default">
                
                    null
                
                </td>
            

            <td class="description last"><p>If specified, then buffers will be decoded to strings using the specified encoding.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>objectMode</code></td>
            

            <td class="type">
            
                
<span class="param-type">Boolean</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                    false
                
                </td>
            

            <td class="description last"><p>Whether this stream should behave as a stream of objects. Meaning that stream.read(n) returns a single value instead of a Buffer of size n.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>allowHalfOpen</code></td>
            

            <td class="type">
            
                
<span class="param-type">Boolean</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                    true
                
                </td>
            

            <td class="description last"><p>If set to false, then the stream will automatically end the readable side when the writable side ends and vice versa.</p></td>
        </tr>

    
    </tbody>
</table>
            </td>
        </tr>

    
    </tbody>
</table>
    

    
<dl class="details">
    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="index.js.html">index.js</a>, <a href="index.js.html#line272">line 272</a>
    </li></ul></dd>
    

    

    

    
</dl>


    

    

    

    

    

    
    <h5>Returns:</h5>
    
            
<div class="param-desc">
    <p>A through function with <code>options</code> pre-configured as default</p>
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">through</span>


    </dd>
</dl>

        

    
        <h5>Example</h5>
        
    <pre class="prettyprint"><code>var thrObj = through.factory({objectMode: true});

var streamObj = thrObj(function(string, enc, done){
  expect(string).to.be.equal('my data');
  done();
});
streamObj.write('my data');



var myData = new Buffer('my data');
var thrBuf = through.factory({objectMode: false, highWaterMark: 1000*Math.pow(2,6)});

var streamBuf = thrBuf(function(chunk, enc, done){
  expect(chunk).to.be.equal(myData);
  expect(chunk).to.not.be.equal('my data');
  done();
});
streamBuf.write(myData);</code></pre>

    
</dd>

        
            
<dt>
    <h4 class="name" id="obj"><span class="type-signature">&lt;static> </span>obj<span class="signature">(<span class="optional">transform</span>, <span class="optional">flush</span>)</span><span class="type-signature"> &rarr; {Transform}</span></h4>

    
</dt>
<dd>

    
    <div class="description">
        <p>It is a conveniece method for <code>through({objectMode: true}, transformFn, flushFn);</code><br>If called without arguments, returns a passthrough <code>Transform</code> </p>
<p>Note: This is the same <code>obj</code> method from <code>through2</code></p>
    </div>
    

    

    

    
        <h5>Parameters:</h5>
        

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Argument</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>transform</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last"><p><code>_transform</code> function as described <a href="http://nodejs.org/docs/latest/api/stream.html#stream_class_stream_transform">here</a></p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>flush</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last"><p><code>_flush</code> function as described <a href="http://nodejs.org/docs/latest/api/stream.html#stream_class_stream_transform">here</a> (same link as above)</p></td>
        </tr>

    
    </tbody>
</table>
    

    
<dl class="details">
    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="index.js.html">index.js</a>, <a href="index.js.html#line186">line 186</a>
    </li></ul></dd>
    

    

    

    
</dl>


    

    

    

    

    

    
    <h5>Returns:</h5>
    
            
<div class="param-desc">
    <p>A instance of <code>Transform</code> stream from <code>readable-stream@1.0.x</code></p>
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Transform</span>


    </dd>
</dl>

        

    
        <h5>Example</h5>
        
    <pre class="prettyprint"><code>var stream = through.obj(function(string, enc, done){
  expect(string).to.be.deep.equal({data: 'myData'});
  done();
});
stream.write({data: 'myData'});</code></pre>

    
</dd>

        
            
<dt>
    <h4 class="name" id="through"><span class="type-signature"></span>through<span class="signature">(<span class="optional">options</span>, <span class="optional">transform</span>, <span class="optional">flush</span>)</span><span class="type-signature"> &rarr; {Transform}</span></h4>

    
</dt>
<dd>

    

    

    

    
        <h5>Parameters:</h5>
        

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Argument</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>options</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last"><p>Same options as seen <a href="/jsdoc/module-through.html#factory">here</a></p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>transform</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last"><p><code>_transform</code> function as described <a href="http://nodejs.org/docs/latest/api/stream.html#stream_class_stream_transform">here</a></p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>flush</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last"><p><code>_flush</code> function as described <a href="http://nodejs.org/docs/latest/api/stream.html#stream_class_stream_transform">here</a> (same link as above)</p></td>
        </tr>

    
    </tbody>
</table>
    

    
<dl class="details">
    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="index.js.html">index.js</a>, <a href="index.js.html#line100">line 100</a>
    </li></ul></dd>
    

    

    

    
</dl>


    

    

    

    

    

    
    <h5>Returns:</h5>
    
            
<div class="param-desc">
    <p>A instance of <code>Transform</code> stream from <code>readable-stream@1.0.x</code></p>
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Transform</span>


    </dd>
</dl>

        

    
        <h5>Examples</h5>
        
    <pre class="prettyprint"><code>var expect = require('chai').expect;
var through = require("super-stream.through")

var streamA = through.obj(function(counter, enc, done){
  counter += 1;
  done(null, counter);
});
var streamB = through({objectMode: true}, function(counter, enc, done){
  counter += 1;
  done(null, counter);
});

thr = through.factory({objectMode: true});

streamA.pipe(streamB).pipe(thr(function(counter, enc, done){
  expect(counter).to.be.equal(2);
}));

streamA.write(0);</code></pre>

    <pre class="prettyprint"><code>var streamA = through(function(chunk, enc, done){
  data = chunk.toString();
  done(null, new Buffer(data +'-'+ data));
});

thrObj = through.factory({objectMode: true});
var streamB = thrObj.buf(function(chunk, enc, done){
  expect(chunk.toString()).to.be.equal('myData-myData');
  done();
});
 
streamA.pipe(streamB);
streamA.write(new Buffer('myData'));</code></pre>

    
</dd>

        </dl>
    

    

    
</article>

</section>




</div>

<nav>
    <h2><a href="index.html">Index</a></h2><h3>Modules</h3><ul><li><a href="module-through.html">through</a></li></ul>
</nav>

<br clear="both">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.3.0-alpha5</a> on Wed May 14 2014 14:26:48 GMT-0700 (PDT)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>